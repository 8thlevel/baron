/*! baron 07-04-2013 */
(function(e,t){"use strict";function s(){}function o(e){var t;s=function(t){errGlobal(t,e)};try{e=e||{},e.scroller=e.scroller||this,t=new c(e),t.u(),n.push(t)}catch(o){}return t}var s,n=[],i=e.baron,r=e.jQuery,l={"false":{x:"Y",pos:"top",crossPos:"left",size:"height",crossSize:"width",client:"clientHeight",crossClient:"clientWidth",offset:"offsetHeight",crossOffset:"offsetWidth",offsetPos:"offsetTop",scroll:"scrollTop",scrollSize:"scrollHeight"},"true":{x:"X",pos:"left",crossPos:"top",size:"width",crossSize:"height",client:"clientWidth",crossClient:"clientHeight",offset:"offsetWidth",crossOffset:"offsetHeight",offsetPos:"offsetLeft",scroll:"scrollLeft",scrollSize:"scrollWidth"}};if(e){o.u=function(){for(var e=0;n.length>e;e++)n[e].u()},o.noConflict=function(){return e.baron=i,o},o.version="0.4.x",r&&r.fn&&(r.fn.baron=o),e.baron=o,e.module&&module.exports&&(module.exports=o.noConflict());var c=function(n){var i,c,f,a;c=n.selector||r,c||s(1),i=n.event||function(e,t,s,o){r(e)[o||"on"](t,s)},n.event||r||s(2),f=n.dom||r,f||s(3),a=c(n.scroller),a[0]||(a=[a]),a[0].nodeType||s(10),o.init=function(o){function n(){o.barOnCls&&(E[B.client]<E[B.scrollSize]?f(E).addClass(o.barOnCls):f(E).removeClass(o.barOnCls))}function r(e){var t=o.barMinSize||20;e>0&&t>e&&(e=t),f(W).css(B.size,parseInt(e)+"px")}function a(e){f(W).css(B.pos,parseInt(e)+"px")}function u(){return N[B.client]-k-W[B.offset]}function h(e){return e*u()+k}function d(e){return(e-k)/u()}function p(){return!1}function C(e){i(document,"selectpos",p,e?"off":"on")}function v(e){try{D=document.createEvent("WheelEvent"),D.initWebKitWheelEvent(e.originalEvent.wheelDeltaX,e.originalEvent.wheelDeltaY),E.dispatchEvent(D),e.preventDefault()}catch(e){}}function m(e,s){(o.viewMinSize||0)>w&&(s=t),s!==t?(s+="px",f(z[e]).css(B.pos,s).addClass(A)):f(z[e]).css(B.pos,"").removeClass(A)}function x(e){if(f(E).css(B.crossSize,E.parentNode[B.crossClient]+E[B.crossOffset]-E[B.crossClient]+"px"),w=E[B.client],e&&(S=[]),L=[],F=[],z=c(o.header,E)){for(e&&(i(z,"mousewheel",v,"off"),i(z,"mousewheel",v)),D=0;z.length>D;D++)F[D]=F[D-1]||0,z[D-1]&&(F[D]+=z[D-1][B.offset]),P={},P[B.size]=z[D][B.offset],f(z[D].parentNode).css(P),P={},P[B.crossSize]=z[D].parentNode[B.crossClient],f(z[D]).css(P),w-=z[D][B.offset],S[D]=z[D].parentNode[B.offsetPos];o.trackSmartLim&&(N!=E?(P={},P[B.pos]=z[0].parentNode[B.offset],f(N).css(P)):k=z[0].parentNode[B.offset])}}function g(){var e,s,n,i,l;if(n=(N[B.client]-k)*E[B.client]/E[B.scrollSize],s!=n&&(r(n),s=n),e=-(E["page"+B.x+"Offset"]||E[B.scroll]),y=h(-e/(E[B.scrollSize]-E[B.client])),a(y),z){var c;for(D=0;z.length>D;D++)l=0,S[D]+e<F[D]+T?(l=1,i=F[D]):S[D]+e>F[D]+w-T?(l=2,i=F[D]+w):(l=3,i=t),l!=L[D]&&(m(D,i),L[D]=l,c=!0);if(c)for(D=0;z.length>D;D++)L[D]!=L[D+1]&&1==L[D]&&o.hBeforeFixCls?f(z[D]).addClass(o.hBeforeFixCls).removeClass(o.hAfterFixCls+""):L[D]!=L[D-1]&&2==L[D]&&o.hAfterFixCls?f(z[D]).addClass(o.hAfterFixCls).removeClass(o.hBeforeFixCls+""):f(z[D]).removeClass(o.hBeforeFixCls+"").removeClass(o.hAfterFixCls+"")}}function b(){clearTimeout(O),O=setTimeout(function(){x(),g(),n()},200)}var z,w,S,F,O,W,N,y,A,B,E,_,H,P,T,D,L=[],k=0;return E=o.scroller,this._barOn=n,this._uView=x,this._uBar=g,o.bar?W=c(o.bar,E)[0]:(W=c("*",E),W=W[W.length-1]),W||s(11),N=c(o.track,E)[0],N=N||W.parentNode,E.setAttribute("data-baron","inited"),B=l[!!o.h+""],T=o.fixRadius||0,A=o.hFixCls,i(E,"scroll",g),i(W,"mousedown",function(e){e.preventDefault(),C(),_=1}),i(document,"mouseup blur",function(){C(1),_=0}),i(document,"mousedown",function(e){2!=e.button&&(H=e["client"+B.x]-y)}),i(document,"mousemove",function(e){_&&(E[B.scroll]=d(e["client"+B.x]-H)*(E[B.scrollSize]-E[B.client]))}),i(e,"resize",b),i(E,"sizeChange",b),i(W,"mousewheel",v),N!=E&&i(N,"mousewheel",v),this},o.init.prototype.update=function(){this._uView(1),this._uBar(),this._barOn()};for(var u=0;a.length>u;u++)a[u].getAttribute("data-baron")?i(a[u],"sizeChange",t,"trigger"):(n.scroller=a[u],this[u]=new o.init(n));return this};c.prototype.u=function(){for(var e=-1;this[++e];)this[e].update()}}})(window);