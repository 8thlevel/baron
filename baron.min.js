(function(n,u){var m=[],G={x:"Y",pos:"top",crossPos:"left",size:"height",crossSize:"width",client:"clientHeight",crossClient:"clientWidth",offset:"offsetHeight",crossOffset:"offsetWidth",offsetPos:"offsetTop",scroll:"scrollTop",scrollSize:"scrollHeight"},H={x:"X",pos:"left",crossPos:"top",size:"width",crossSize:"height",client:"clientWidth",crossClient:"clientHeight",offset:"offsetWidth",crossOffset:"offsetHeight",offsetPos:"offsetLeft",scroll:"scrollLeft",scrollSize:"scrollWidth"},p=function(b,j){var f,
g;j===u?(g=this,f=b||{}):(g=b,f=j);m.push(new x(g,f));return m[m.length-1]};p.u=function(){for(var b=0;b<m.length;b++)m[b].u()};var x=function(b,j){var f,g,k;p.init=function(b,d){function j(a){d.barOnCls&&(a?k(b).addClass(d.barOnCls||""):k(b).removeClass(d.barOnCls||""))}function n(){return!1}function p(a){f(document,"selectpos",n,a?"off":"on")}function t(){clearTimeout(x);x=setTimeout(function(){D();z();j(e[c.scrollSize]>e[c.client])},200)}var h,v,m,q,x,e,A,l,w,E,B,r=[],c,C,F,s,y,a;this.root=b;var D=
this.viewport=function(b){k(e).css(c.crossSize,e.parentNode[c.crossClient]+e[c.crossOffset]-e[c.crossClient]+"px");h=g(d.header,A);v=e[c.client];b&&(m=[]);r=[];q=[];if(h)for(a=0;a<h.length;a++)q[a]=q[a-1]||0,h[a-1]&&(q[a]+=h[a-1][c.offset]),s={},s[c.size]=h[a][c.offset],k(h[a].parentNode).css(s),s={},s[c.crossSize]=h[a].parentNode[c.crossClient],k(h[a]).css(s),v-=h[a][c.offset],m[a]=h[a].parentNode[c.offsetPos];d.trackSmartLim&&(s={},s[c.pos]=h[0].parentNode[c.offset],k(w).css(s))},z=this.updateScrollBar=
function(){var b,f,g;b=w[c.client]*e[c.client]/e[c.scrollSize];void 0!=b&&(g=d.barMinSize||20,0<b&&b<g&&(b=g),k(l).css(c.size,b+"px"));b=-(e["page"+c.x+"Offset"]||e[c.scroll]);g=E=-b/(e[c.scrollSize]-e[c.client])*(w[c.client]-l[c.offset]);k(l).css(c.pos,g+"px");if(h){var j;for(a=0;a<h.length;a++)if(m[a]+b<q[a]+y?(g=1,f=q[a]):m[a]+b>q[a]+v-y?(g=2,f=q[a]+v):(g=3,f=u),g!==r[a]){j=a;if(v<(d.viewMinSize||0))f=u;f!==u?(f+="px",k(h[j]).css(c.pos,f).addClass(B)):k(h[j]).css(c.pos,"").removeClass(B);r[a]=
g;j=!0}if(j)for(a=0;a<h.length;a++)r[a]!==r[a+1]&&1===r[a]&&d.hBeforeFixCls?k(h[a]).addClass(d.hBeforeFixCls).removeClass(d.hAfterFixCls+""):r[a]!==r[a-1]&&2===r[a]&&d.hAfterFixCls?k(h[a]).addClass(d.hAfterFixCls).removeClass(d.hBeforeFixCls+""):k(h[a]).removeClass(d.hBeforeFixCls+"").removeClass(d.hAfterFixCls+"")}};e=d.scroller!==u?g(d.scroller,b)[0]:g("*",b)[0];A=d.container?g(d.container,e)[0]:g("*",e)[0];d.bar?l=g(d.bar,e)[0]:(l=g("*",e),l=l[l.length-1]);w=(w=g(d.track,e)[0])||l.parentNode;if(e&&
A&&l)return b.setAttribute("data-baron","inited"),c=G,d.h&&(c=H),y=d.fixRadius||0,console.log("fixRadius",y),j(e[c.client]<e[c.scrollSize]),D(1),B=d.hFixCls,f(e,"scroll",z,"on"),f(h,"mousewheel",function(b){try{a=document.createEvent("WheelEvent"),a.initWebKitWheelEvent(b.originalEvent.wheelDeltaX,b.originalEvent.wheelDeltaY),e.dispatchEvent(a),b.preventDefault()}catch(c){}}),f(window,"resize",t),f(b,"heightChange",t),f(l,"mousedown",function(a){a.preventDefault();p();C=1}),f(document,"mouseup blur",
function(){p(1);C=0}),f(document,"mousedown",function(a){F=a.clientY-E}),f(document,"mousemove",function(a){C&&(e.scrollTop=(a.clientY-F)/(w[c.client]-l[c.offset])*(e[c.scrollSize]-e[c.client]))}),z(),this};p.init.prototype.update=function(){this.viewport(1);this.updateScrollBar()};if(g=j.selector||n)if(f=j.event||function(b,d,f,g){n(b)[g||"on"](d,f)},j.event||n)if(k=j.dom||n){b[0]||(b=[b]);for(var t=0;t<b.length;t++)b[t].getAttribute("data-baron")?f(b[t],"heightChange",u,"trigger"):this[t]=new p.init(b[t],
j);return this}};x.prototype.u=function(){for(var b=-1;this[++b];)this[b].update()};n&&n.fn&&(n.fn.baron=p);window.baron=p})(window.jQuery);