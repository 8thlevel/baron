/*! baron 05-04-2013 */
(function(e,t){"use strict";if(e!==t){var s=[],o=e.baron,n=e.jQuery,i={vertical:{x:"Y",pos:"top",crossPos:"left",size:"height",crossSize:"width",client:"clientHeight",crossClient:"clientWidth",offset:"offsetHeight",crossOffset:"offsetWidth",offsetPos:"offsetTop",scroll:"scrollTop",scrollSize:"scrollHeight"},horizontal:{x:"X",pos:"left",crossPos:"top",size:"width",crossSize:"height",client:"clientWidth",crossClient:"clientHeight",offset:"offsetWidth",crossOffset:"offsetHeight",offsetPos:"offsetLeft",scroll:"scrollLeft",scrollSize:"scrollWidth"}},r=function(e){var t;return e=e||{},e.scroller=e.scroller||this,t=new l(e),t.u(),s.push(t),t};r.u=function(){for(var e=0;s.length>e;e++)s[e].u()},r.noConflict=function(){return e.baron=o,r},r.version="0.4";var l=function(s){var o,l,f,c;if(l=s.selector||n,l&&(o=s.event||function(e,t,s,o){n(e)[o||"on"](t,s)},(s.event||n)&&(f=s.dom||n,f&&(c=l(s.scroller))))){c[0]||(c=[c]),r.init=function(s){function n(){s.barOnCls&&(E[B.client]<E[B.scrollSize]?f(E).addClass(s.barOnCls):f(E).removeClass(s.barOnCls))}function r(e){var t=s.barMinSize||20;e>0&&t>e&&(e=t),f(O).css(B.size,parseInt(e)+"px")}function c(e){f(O).css(B.pos,parseInt(e)+"px")}function a(){return W[B.client]-Y-O[B.offset]}function u(e){return e*a()+Y}function h(e){return(e-Y)/a()}function d(){return!1}function p(e){o(document,"selectpos",d,e?"off":"on")}function v(e){try{T=document.createEvent("WheelEvent"),T.initWebKitWheelEvent(e.originalEvent.wheelDeltaX,e.originalEvent.wheelDeltaY),E.dispatchEvent(T),e.preventDefault()}catch(e){}}function C(e,o){(s.viewMinSize||0)>x&&(o=t),o!==t?(o+="px",f(b[e]).css(B.pos,o).addClass(A)):f(b[e]).css(B.pos,"").removeClass(A)}function m(e){if(f(E).css(B.crossSize,E.parentNode[B.crossClient]+E[B.crossOffset]-E[B.crossClient]+"px"),x=E[B.client],e&&(w=[]),D=[],S=[],b=l(s.header,E)){for(e&&(o(b,"mousewheel",v,"off"),o(b,"mousewheel",v)),T=0;b.length>T;T++)S[T]=S[T-1]||0,b[T-1]&&(S[T]+=b[T-1][B.offset]),H={},H[B.size]=b[T][B.offset],f(b[T].parentNode).css(H),H={},H[B.crossSize]=b[T].parentNode[B.crossClient],f(b[T]).css(H),x-=b[T][B.offset],w[T]=b[T].parentNode[B.offsetPos];s.trackSmartLim&&(W!=E?(H={},H[B.pos]=b[0].parentNode[B.offset],f(W).css(H)):Y=b[0].parentNode[B.offset])}}function g(){var e,o,n,i,l;if(n=(W[B.client]-Y)*E[B.client]/E[B.scrollSize],o!=n&&(r(n),o=n),e=-(E["page"+B.x+"Offset"]||E[B.scroll]),N=u(-e/(E[B.scrollSize]-E[B.client])),c(N),b){var a;for(T=0;b.length>T;T++)l=0,w[T]+e<S[T]+P?(l=1,i=S[T]):w[T]+e>S[T]+x-P?(l=2,i=S[T]+x):(l=3,i=t),l!=D[T]&&(C(T,i),D[T]=l,a=!0);if(a)for(T=0;b.length>T;T++)D[T]!=D[T+1]&&1==D[T]&&s.hBeforeFixCls?f(b[T]).addClass(s.hBeforeFixCls).removeClass(s.hAfterFixCls+""):D[T]!=D[T-1]&&2==D[T]&&s.hAfterFixCls?f(b[T]).addClass(s.hAfterFixCls).removeClass(s.hBeforeFixCls+""):f(b[T]).removeClass(s.hBeforeFixCls+"").removeClass(s.hAfterFixCls+"")}}function z(){clearTimeout(F),F=setTimeout(function(){m(),g(),n()},200)}var b,x,w,S,F,O,W,N,A,B,E,_,y,H,P,T,D=[],Y=0;return E=s.scroller,this._barOn=n,this._uView=m,this._uBar=g,s.bar?O=l(s.bar,E)[0]:(O=l("*",E),O=O[O.length-1]),W=l(s.track,E)[0],W=W||O.parentNode,E&&O?(E.setAttribute("data-baron","inited"),B=i.vertical,s.h&&(B=i.horizontal),P=s.fixRadius||0,A=s.hFixCls,o(E,"scroll",g),o(O,"mousedown",function(e){e.preventDefault(),p(),_=1}),o(document,"mouseup blur",function(){p(1),_=0}),o(document,"mousedown",function(e){2!=e.button&&(y=e.clientY-N)}),o(document,"mousemove",function(e){_&&(E.scrollTop=h(e.clientY-y)*(E[B.scrollSize]-E[B.client]))}),o(e,"resize",z),o(E,"sizeChange",z),o(O,"mousewheel",v),W!=E&&o(W,"mousewheel",v),this):t},r.init.prototype.update=function(){this._uView(1),this._uBar(),this._barOn()};for(var a=0;c.length>a;a++)c[a].getAttribute("data-baron")?o(c[a],"sizeChange",t,"trigger"):(s.scroller=c[a],this[a]=new r.init(s));return this}};l.prototype.u=function(){for(var e=-1;this[++e];)this[e].update()},n&&n.fn&&(n.fn.baron=r),"undefined"!=typeof module&&module.exports?module.exports=r:e.baron=r}})(window);