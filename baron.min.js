(function(n,u){var m=[],F={x:"Y",pos:"top",crossPos:"left",size:"height",crossSize:"width",client:"clientHeight",crossClient:"clientWidth",offset:"offsetHeight",crossOffset:"offsetWidth",offsetPos:"offsetTop",scroll:"scrollTop",scrollSize:"scrollHeight"},G={x:"X",pos:"left",crossPos:"top",size:"width",crossSize:"height",client:"clientWidth",crossClient:"clientHeight",offset:"offsetWidth",crossOffset:"offsetHeight",offsetPos:"offsetLeft",scroll:"scrollLeft",scrollSize:"scrollWidth"},p=function(b,g){var d,
j;g===u?(j=this,d=b||{}):(j=b,d=g);m.push(new x(j,d));return m[m.length-1]};p.u=function(){for(var b=0;b<m.length;b++)m[b].u()};var x=function(b,g){var d,j,k;p.init=function(b,f){function g(a){f.barOnCls&&(a?k(b).addClass(f.barOnCls||""):k(b).removeClass(f.barOnCls||""))}function n(){return!1}function p(a){d(document,"selectpos",n,a?"off":"on")}function t(){clearTimeout(x);x=setTimeout(function(){C();y();g(e[c.scrollSize]>e[c.client])},200)}var h,v,m,q,x,e,l,w,D,z,r=[],c,A,E,s,B,a;this.root=b;var C=
this.viewport=function(b){k(e).css(c.crossSize,e.parentNode[c.crossClient]+e[c.crossOffset]-e[c.crossClient]+"px");h=j(f.header,e);v=e[c.client];b&&(m=[]);r=[];q=[];if(h)for(a=0;a<h.length;a++)q[a]=q[a-1]||0,h[a-1]&&(q[a]+=h[a-1][c.offset]),s={},s[c.size]=h[a][c.offset],k(h[a].parentNode).css(s),s={},s[c.crossSize]=h[a].parentNode[c.crossClient],k(h[a]).css(s),v-=h[a][c.offset],m[a]=h[a].parentNode[c.offsetPos];f.trackSmartLim&&(s={},s[c.pos]=h[0].parentNode[c.offset],k(w).css(s))},y=this.updateScrollBar=
function(){var b,d,g;b=w[c.client]*e[c.client]/e[c.scrollSize];void 0!=b&&(g=f.barMinSize||20,0<b&&b<g&&(b=g),k(l).css(c.size,b+"px"));b=-(e["page"+c.x+"Offset"]||e[c.scroll]);g=D=-b/(e[c.scrollSize]-e[c.client])*(w[c.client]-l[c.offset]);k(l).css(c.pos,g+"px");if(h){var j;for(a=0;a<h.length;a++)if(m[a]+b<q[a]+B?(g=1,d=q[a]):m[a]+b>q[a]+v-B?(g=2,d=q[a]+v):(g=3,d=u),g!==r[a]){j=a;if(v<(f.viewMinSize||0))d=u;d!==u?(d+="px",k(h[j]).css(c.pos,d).addClass(z)):k(h[j]).css(c.pos,"").removeClass(z);r[a]=
g;j=!0}if(j)for(a=0;a<h.length;a++)r[a]!==r[a+1]&&1===r[a]&&f.hBeforeFixCls?k(h[a]).addClass(f.hBeforeFixCls).removeClass(f.hAfterFixCls+""):r[a]!==r[a-1]&&2===r[a]&&f.hAfterFixCls?k(h[a]).addClass(f.hAfterFixCls).removeClass(f.hBeforeFixCls+""):k(h[a]).removeClass(f.hBeforeFixCls+"").removeClass(f.hAfterFixCls+"")}};e=f.scroller!==u?j(f.scroller,b)[0]:j("*",b)[0];f.bar?l=j(f.bar,e)[0]:(l=j("*",e),l=l[l.length-1]);w=(w=j(f.track,e)[0])||l.parentNode;if(e&&l)return b.setAttribute("data-baron","inited"),
c=F,f.h&&(c=G),B=f.fixRadius||0,g(e[c.client]<e[c.scrollSize]),C(1),z=f.hFixCls,d(e,"scroll",y,"on"),d(h,"mousewheel",function(b){try{a=document.createEvent("WheelEvent"),a.initWebKitWheelEvent(b.originalEvent.wheelDeltaX,b.originalEvent.wheelDeltaY),e.dispatchEvent(a),b.preventDefault()}catch(c){}}),d(window,"resize",t),d(b,"heightChange",t),d(l,"mousedown",function(a){a.preventDefault();p();A=1}),d(document,"mouseup blur",function(){p(1);A=0}),d(document,"mousedown",function(a){E=a.clientY-D}),
d(document,"mousemove",function(a){A&&(e.scrollTop=(a.clientY-E)/(w[c.client]-l[c.offset])*(e[c.scrollSize]-e[c.client]))}),y(),this};p.init.prototype.update=function(){this.viewport(1);this.updateScrollBar()};if(j=g.selector||n)if(d=g.event||function(b,f,d,g){n(b)[g||"on"](f,d)},g.event||n)if(k=g.dom||n){b[0]||(b=[b]);for(var t=0;t<b.length;t++)b[t].getAttribute("data-baron")?d(b[t],"heightChange",u,"trigger"):this[t]=new p.init(b[t],g);return this}};x.prototype.u=function(){for(var b=-1;this[++b];)this[b].update()};
n&&n.fn&&(n.fn.baron=p);window.baron=p})(window.jQuery);