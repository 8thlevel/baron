(function(m,v){var l=[],n=function(b,d){d===v&&(d=(b=this)||{});l.push(new w(b,d));return l[l.length-1]};n.u=function(){for(var b=0;b<l.length;b++)l[b].u()};var w=function(b,d){var f,t,k;n.init=function(b,c){function d(a){a?k(j).addClass(c.barOnCls||""):k(j).removeClass(c.barOnCls||"")}function m(){return!1}function n(a){f(document,"selectstart",m,a?"off":"on")}function s(){clearTimeout(w);w=setTimeout(function(){A();x();d(p.offsetHeight>e.clientHeight)},200)}var g,u,l,q,w,e,p,j,B,y,r=[],z,C,a;this.root=
b;var A=this.viewport=function(h){g=t(c.header,p);u=e.clientHeight;h&&(l=[]);r=[];q=[];if(g)for(a=0;a<g.length;a++)q[a]=q[a-1]||0,g[a-1]&&(q[a]+=g[a-1].offsetHeight),u-=g[a].offsetHeight,h&&(l[a]=g[a].parentNode.offsetTop)},x=this.updateScrollBar=function(){var h,b,d;h=e.clientHeight*e.clientHeight/p.offsetHeight;e.clientHeight>=p.offsetHeight&&(h=0);void 0!==h&&(d=c.barMinHeight||20,0<h&&h<d&&(h=d),k(j).css({height:h+"px"}));h=-(e.pageYOffset||e.scrollTop);d=B=-h/(p.offsetHeight-e.clientHeight)*
(e.clientHeight-j.offsetHeight-(c.barTop||0))+(c.barTop||0);k(j).css("top",d+"px");if(g){var f;for(a=0;a<g.length;a++)if(l[a]+h<q[a]?(d=1,b=q[a]):l[a]+h>q[a]+u?(d=2,b=q[a]+u):(d=3,b=v),d!==r[a]){f=a;if(u<(c.viewMinH||0))b=v;b!==v?(b+="px",k(g[f]).css({top:b}).addClass(y)):k(g[f]).css({top:b}).removeClass(y);r[a]=d;f=!0}if(f)for(a=0;a<g.length;a++)r[a]!==r[a+1]&&1===r[a]&&c.hTopFixCls?k(g[a]).addClass(c.hTopFixCls).removeClass(c.hBottomFixCls+""):r[a]!==r[a-1]&&2===r[a]&&c.hBottomFixCls?k(g[a]).addClass(c.hBottomFixCls).removeClass(c.hTopFixCls+
""):k(g[a]).removeClass(c.hTopFixCls+"").removeClass(c.hBottomFixCls+"")}};e=c.scroller?t(c.scroller,b)[0]:t("*",b)[0];p=c.container?t(c.container,e)[0]:t("*",e)[0];c.bar?j=t(c.bar,e)[0]:(j=t("*",e),j=j[j.length-1]);if(e&&p&&j)return b.setAttribute("data-baron","inited"),d(e.clientHeight<p.offsetHeight),k(e).css("width",e.parentNode.clientWidth+e.offsetWidth-e.clientWidth+"px"),A(1),y=c.hFixCls,f(e,"scroll",x,"on"),f(g,"mousewheel",function(b){try{a=document.createEvent("WheelEvent"),a.initWebKitWheelEvent(b.originalEvent.wheelDeltaX,
b.originalEvent.wheelDeltaY),e.dispatchEvent(a),b.preventDefault()}catch(c){}}),f(window,"resize",s),f(b,"heightChange",s),f(j,"mousedown",function(a){a.preventDefault();n();z=1}),f(document,"mouseup blur",function(){n(1);z=0}),f(document,"mousedown",function(a){C=a.clientY-B}),f(document,"mousemove",function(a){z&&(e.scrollTop=(a.clientY-C-(c.barTop||0))/(e.clientHeight-j.offsetHeight-(c.barTop||0))*(p.offsetHeight-e.clientHeight))}),x(),this};n.init.prototype.update=function(){this.viewport(1);
this.updateScrollBar()};if(t=d.selector||m)if(f=d.event||function(b,c,d,f){m(b)[f||"on"](c,d)},d.event||m)if(k=d.dom||m){b[0]||(b=[b]);for(var s=0;s<b.length;s++)b[s].getAttribute("data-baron")?f(b[s],"heightChange",v,"trigger"):this[s]=new n.init(b[s],d);return this}};w.prototype.u=function(){for(var b=-1;this[++b];)this[b].update()};m&&m.fn&&(m.fn.baron=n);window.baron=n})(window.jQuery);