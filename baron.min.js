(function(w,y){var s=[],H=w.baron,h=w.jQuery,I={x:"Y",pos:"top",crossPos:"left",size:"height",crossSize:"width",client:"clientHeight",crossClient:"clientWidth",offset:"offsetHeight",crossOffset:"offsetWidth",offsetPos:"offsetTop",scroll:"scrollTop",scrollSize:"scrollHeight"},J={x:"X",pos:"left",crossPos:"top",size:"width",crossSize:"height",client:"clientWidth",crossClient:"clientHeight",offset:"offsetWidth",crossOffset:"offsetHeight",offsetPos:"offsetLeft",scroll:"scrollLeft",scrollSize:"scrollWidth"},
f=function(a){a=a||{};a.scroller=a.scroller||this;a=new x(a);a.u();s.push(a);return a};f.u=function(){for(var a=0;a<s.length;a++)s[a].u()};f.noConflict=function(){w.baron=H;return f};f.version="0.4";var x=function(a){var e,t,j,m;if(t=a.selector||h)if(e=a.event||function(a,j,e,f){h(a)[f||"on"](j,e)},a.event||h)if(j=a.dom||h)if(m=t(a.scroller)){m[0]||(m=[m]);f.init=function(a){function f(){a.barOnCls&&(d[c.client]<d[c.scrollSize]?j(d).addClass(a.barOnCls):j(d).removeClass(a.barOnCls))}function m(){return!1}
function h(a){e(document,"selectpos",m,a?"off":"on")}function r(a){try{b=document.createEvent("WheelEvent"),b.initWebKitWheelEvent(a.originalEvent.wheelDeltaX,a.originalEvent.wheelDeltaY),d.dispatchEvent(b),a.preventDefault()}catch(c){}}function s(k){j(d).css(c.crossSize,d.parentNode[c.crossClient]+d[c.crossOffset]-d[c.crossClient]+"px");g=t(a.header,d);u=d[c.client];k&&(z=[]);n=[];p=[];if(g){k&&(e(g,"mousewheel",r,"off"),e(g,"mousewheel",r));for(b=0;b<g.length;b++)p[b]=p[b-1]||0,g[b-1]&&(p[b]+=g[b-
1][c.offset]),q={},q[c.size]=g[b][c.offset],j(g[b].parentNode).css(q),q={},q[c.crossSize]=g[b].parentNode[c.crossClient],j(g[b]).css(q),u-=g[b][c.offset],z[b]=g[b].parentNode[c.offsetPos]}a.trackSmartLim&&(q={},q[c.pos]=g[0].parentNode[c.offset],j(v).css(q))}function A(){var k,f,e;k=v[c.client]*d[c.client]/d[c.scrollSize];void 0!=k&&(e=a.barMinSize||20,0<k&&k<e&&(k=e),j(l).css(c.size,k+"px"));k=-(d["page"+c.x+"Offset"]||d[c.scroll]);e=E=-k/(d[c.scrollSize]-d[c.client])*(v[c.client]-l[c.offset]);j(l).css(c.pos,
e+"px");if(g){var h;for(b=0;b<g.length;b++)if(z[b]+k<p[b]+B?(e=1,f=p[b]):z[b]+k>p[b]+u-B?(e=2,f=p[b]+u):(e=3,f=y),e!=n[b]){h=b;if(u<(a.viewMinSize||0))f=y;f!==y?(f+="px",j(g[h]).css(c.pos,f).addClass(C)):j(g[h]).css(c.pos,"").removeClass(C);n[b]=e;h=!0}if(h)for(b=0;b<g.length;b++)n[b]!=n[b+1]&&1==n[b]&&a.hBeforeFixCls?j(g[b]).addClass(a.hBeforeFixCls).removeClass(a.hAfterFixCls+""):n[b]!=n[b-1]&&2==n[b]&&a.hAfterFixCls?j(g[b]).addClass(a.hAfterFixCls).removeClass(a.hBeforeFixCls+""):j(g[b]).removeClass(a.hBeforeFixCls+
"").removeClass(a.hAfterFixCls+"")}}function x(){clearTimeout(F);F=setTimeout(function(){s();A();f()},200)}var g,u,z,p,F,l,v,E,C,n=[],c,d,D,G,q,B,b;d=a.scroller;this.invalidateBar=f;this.viewport=s;this.updateScrollBar=A;a.bar?l=t(a.bar,d)[0]:(l=t("*",d),l=l[l.length-1]);v=(v=t(a.track,d)[0])||l.parentNode;if(d&&l)return d.setAttribute("data-baron","inited"),c=I,a.h&&(c=J),B=a.fixRadius||0,C=a.hFixCls,e(d,"scroll",A),e(l,"mousedown",function(a){a.preventDefault();h();D=1}),e(document,"mouseup blur",
function(){h(1);D=0}),e(document,"mousedown",function(a){2!=a.button&&(G=a.clientY-E)}),e(document,"mousemove",function(a){D&&(d.scrollTop=(a.clientY-G)/(v[c.client]-l[c.offset])*(d[c.scrollSize]-d[c.client]))}),e(w,"resize",x),e(d,"sizeChange",x),this};f.init.prototype.update=function(){this.viewport(1);this.updateScrollBar();this.invalidateBar()};for(var r=0;r<m.length;r++)m[r].getAttribute("data-baron")?e(m[r],"sizeChange",y,"trigger"):(a.scroller=m[r],this[r]=new f.init(a));return this}};x.prototype.u=
function(){for(var a=-1;this[++a];)this[a].update()};h&&h.fn&&(h.fn.baron=f);w.baron=f})(window);