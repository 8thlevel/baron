/*! baron 04-12-2013 */
(function(t,i){"use strict";function e(i,e,r){i._eventHandlers=i._eventHandlers||[{element:i.scroller,handler:function(t){i.scroll(t)},type:"scroll"},{element:i.scroller,handler:function(){i.barOn()},type:"keyup"},{element:i.bar,handler:function(t){t.preventDefault(),i.selection(),i.drag.now=1},type:"touchstart mousedown"},{element:document,handler:function(){i.selection(1),i.drag.now=0},type:"mouseup blur touchend"},{element:document,handler:function(t){2!=t.button&&i._pos0(t)},type:"touchstart mousedown"},{element:document,handler:function(t){i.drag.now&&i.drag(t)},type:"mousemove touchmove"},{element:t,handler:function(){i.update()},type:"resize"},{element:i.root,handler:function(){i.update()},type:"sizeChange"}],p(i._eventHandlers,function(t){t.element&&e(t.element,t.type,t.handler,r)})}function r(t,i,e){var r="data-baron-"+i;if("on"==e)t.setAttribute(r,"inited");else{if("off"!=e)return t.getAttribute(r);t.removeAttribute(r)}}function s(t){if(r(t.root,t.direction))throw Error("Second baron initialization");var i=new g.prototype.constructor(t);return e(i,t.event,"on"),r(i.root,t.direction,"on"),i.update(),i}function o(t){var i={};t=t||{};for(var e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}function n(t){var i=o(t);i.direction=i.direction||"v";var e=t.event||function(t,e,r,s){i.$(t)[s||"on"](e,r)};return i.event=function(t,i,r,s){p(t,function(t){e(t,i,r,s)})},i}function l(t){if(this.events&&this.events[t])for(var i=0;this.events[t].length>i;i++){var e=Array.prototype.slice.call(arguments,1);this.events[t][i].apply(this,e)}}if(t){var c=d,a=jQuery,h=-1!=navigator.userAgent.indexOf("ebK"),f=["left","top","right","bottom","width","height"],u={v:{x:"Y",pos:f[1],oppos:f[3],crossPos:f[0],crossOpPos:f[2],size:f[5],crossSize:f[4],padding:"paddingRight",client:"clientHeight",crossClient:"clientWidth",crossScroll:"scrollWidth",offset:"offsetHeight",crossOffset:"offsetWidth",offsetPos:"offsetTop",scroll:"scrollTop",scrollSize:"scrollHeight"},h:{x:"X",pos:f[0],oppos:f[2],crossPos:f[1],crossOpPos:f[3],size:f[4],crossSize:f[5],padding:"paddingBottom",client:"clientWidth",crossClient:"clientHeight",crossScroll:"scrollHeight",offset:"offsetWidth",crossOffset:"offsetHeight",offsetPos:"offsetLeft",scroll:"scrollLeft",scrollSize:"scrollWidth"}},p=function(e,r){var s=0;for((e.length===i||e===t)&&(e=[e]);e[s];)r.call(this,e[s],s),s++},d=function(i){var e,r,s=this&&this[0]&&this[0].nodeType;return i=i||{},r=i.$||t.jQuery,s?i.root=e=this:e=r(i.root||i.scroller),new d.fn.constructor(e,i,r)};d.fn={constructor:function(t,i,e){var r=n(i);r.$=e,p.call(this,t,function(t,i){var e=o(r);r.root&&r.scroller?(e.scroller=r.$(r.scroller,t),e.scroller.length||(e.scroller=t)):e.scroller=t,e.root=t,this[i]=s(e),this.length=i+1}),this.params=r},dispose:function(){var t=this.params;p(this,function(i){i.dispose(t)}),this.params=null},update:function(){for(var t=0;this[t];)this[t].update.apply(this[t],arguments),t++},baron:function(t){return t.root=[],t.scroller=this.params.scroller,p.call(this,this,function(i){t.root.push(i.root)}),t.direction="v"==this.params.direction?"h":"v",t._chain=!0,d(t)}};var g={};g.prototype={constructor:function(t){function e(t,i){return f(t,i)[0]}function r(t){var i=this.barMinSize||20;t>0&&i>t&&(t=i),this.bar&&f(this.bar).css(this.origin.size,parseInt(t,10)+"px")}function s(t){this.bar&&f(this.bar).css(this.origin.pos,+t+"px")}function o(){return g[this.origin.client]-this.barTopLimit-this.bar[this.origin.offset]}function n(t){return t*o.call(this)+this.barTopLimit}function c(t){return(t-this.barTopLimit)/o.call(this)}function a(){return!1}var f,p,d,g,v,m,b,w,y;return y=w=(new Date).getTime(),f=this.$=t.$,this.event=t.event,this.events={},this.root=t.root,this.scroller=e(t.scroller),this.bar=e(t.bar,this.root),g=this.track=e(t.track,this.root),!this.track&&this.bar&&(g=this.bar.parentNode),this.clipper=this.scroller.parentNode,this.direction=t.direction,this.origin=u[this.direction],this.barOnCls=t.barOnCls,this.barTopLimit=0,b=1e3*t.pause||0,this.cursor=function(t){return t["client"+this.origin.x]||(((t.originalEvent||t).touches||{})[0]||{})["page"+this.origin.x]},this.pos=function(t){var e="page"+this.origin.x+"Offset",r=this.scroller[e]?e:this.origin.scroll;return t!==i&&(this.scroller[r]=t),this.scroller[r]},this.rpos=function(t){var i,e=this.scroller[this.origin.scrollSize]-this.scroller[this.origin.client];return i=t?this.pos(t*e):this.pos(),i/(e||1)},this.barOn=function(t){this.barOnCls&&(t||this.scroller[this.origin.client]>=this.scroller[this.origin.scrollSize]?f(this.root).removeClass(this.barOnCls):f(this.root).addClass(this.barOnCls))},this._pos0=function(t){d=this.cursor(t)-p},this.drag=function(t){this.scroller[this.origin.scroll]=c.call(this,this.cursor(t)-d)*(this.scroller[this.origin.scrollSize]-this.scroller[this.origin.client])},this.selection=function(t){this.event(document,"selectpos selectstart",a,t?"off":"on")},this._textarea=function(){return"TEXTAREA"==this.scroller.tagName},this.resize=function(){function i(){var i,r;e.barOn(),r=e.scroller[e.origin.crossClient],i=e.scroller[e.origin.crossOffset]-r,t.freeze&&!e.clipper.style[e.origin.crossSize]&&f(e.clipper).css(e.origin.crossSize,e.clipper[e.origin.crossClient]-i+"px"),h||(i=i||16),e._textarea()?f(e.scroller).css(e.origin.crossSize,e.clipper[e.origin.crossClient]+i+"px"):f(e.scroller).css(e.origin.padding,i+"px"),Array.prototype.unshift.call(arguments,"resize"),l.apply(e,arguments),y=(new Date).getTime()}var e=this,r=0;b>(new Date).getTime()-y&&(clearTimeout(v),r=b),r?v=setTimeout(i,r):i()},this.scroll=function(){function t(){c.bar&&(e=(g[c.origin.client]-c.barTopLimit)*c.scroller[c.origin.client]/c.scroller[c.origin.scrollSize],i!=e&&(r.call(c,e),i=e),p=n.call(c,c.rpos()),s.call(c,p)),Array.prototype.unshift.call(arguments,"scroll"),l.apply(c,arguments),w=(new Date).getTime()}var i,e,o=0,c=this;b>(new Date).getTime()-w&&(clearTimeout(m),o=b),o?m=setTimeout(t,o):t()},this},update:function(t){return l.call(this,"upd",t),this.resize(1),this.scroll(),this},dispose:function(t){e(this,this.event,"off"),r(this.root,t.direction,"off"),a(this.scroller).css(this.origin.crossSize,""),this.barOn(!0),l.call(this,"dispose")},on:function(t,i,e){for(var r=t.split(" "),s=0;r.length>s;s++)"init"==r[s]?i.call(this,e):(this.events[r[s]]=this.events[r[s]]||[],this.events[r[s]].push(function(t){i.call(this,t||e)}))}},d.fn.constructor.prototype=d.fn,g.prototype.constructor.prototype=g.prototype,d.noConflict=function(){return t.baron=c,d},d.version="0.7.0",a&&a.fn&&(a.fn.baron=d),t.baron=d,t.module&&module.exports&&(module.exports=d.noConflict())}})(window),function(t,e){var r=function(t){function r(t,i,r){var s=1==r?"pos":"oppos";(c.minView||0)>l&&(i=e),this.$(n[t]).css(this.origin.pos,"").css(this.origin.oppos,"").removeClass(c.outside),i!==e&&(i+="px",this.$(n[t]).css(this.origin[s],i).addClass(c.outside))}function s(t){try{i=document.createEvent("WheelEvent"),i.initWebKitWheelEvent(t.originalEvent.wheelDeltaX,t.originalEvent.wheelDeltaY),u.dispatchEvent(i),t.preventDefault()}catch(t){}}function o(t){var i;for(var e in t)c[e]=t[e];if(n=this.$(c.elements,this.scroller)){l=this.scroller[this.origin.client];for(var r=0;n.length>r;r++)i={},i[this.origin.size]=n[r][this.origin.offset],n[r].parentNode!==this.scroller&&this.$(n[r].parentNode).css(i),i={},i[this.origin.crossSize]=n[r].parentNode[this.origin.crossClient],this.$(n[r]).css(i),l-=n[r][this.origin.offset],f[r]=n[r].parentNode[this.origin.offsetPos],a[r]=a[r-1]||0,h[r]=h[r-1]||Math.min(f[r],0),n[r-1]&&(a[r]+=n[r-1][this.origin.offset],h[r]+=n[r-1][this.origin.offset]),(0!=r||0!=f[r])&&(this.event(n[r],"mousewheel",s,"off"),this.event(n[r],"mousewheel",s));c.limiter&&n[0]&&(this.track&&this.track!=this.scroller?(i={},i[this.origin.pos]=n[0].parentNode[this.origin.offset],this.$(this.track).css(i)):this.barTopLimit=n[0].parentNode[this.origin.offset],this.scroll()),c.limiter===!1&&(this.barTopLimit=0)}var o={element:n,handler:function(){for(var t,i=d(this)[0].parentNode,e=i.offsetTop,r=0;n.length>r;r++)n[r]===this&&(t=r);var s=e-a[t];c.scroll?c.scroll({x1:g.scroller.scrollTop,x2:s}):g.scroller.scrollTop=s},type:"click"};c.clickable&&(this._eventHandlers.push(o),p(o.element,o.type,o.handler,"off"),p(o.element,o.type,o.handler,"on"))}var n,l,c={outside:"",before:"",after:"",past:"",future:"",radius:0,minView:0},a=[],h=[],f=[],u=this.scroller,p=this.event,d=this.$,g=this;this.on("init",o,t),this.on("init scroll",function(){var t,i,s,o=[],u=[];if(n){for(var p,d=0;n.length>d;d++)t=0,f[d]-this.pos()<h[d]+c.radius?(t=1,i=a[d]):f[d]-this.pos()>h[d]+l-c.radius?(t=2,i=this.scroller[this.origin.client]-n[d][this.origin.offset]-a[d]-l):(t=3,i=e),s=!1,(f[d]-this.pos()<h[d]||f[d]-this.pos()>h[d]+l)&&(s=!0),(t!=o[d]||s!=u[d])&&(r.call(this,d,i,t),o[d]=t,u[d]=s,p=!0);if(p)for(d=0;n.length>d;d++)1==o[d]&&c.past&&this.$(n[d]).addClass(c.past).removeClass(c.future),2==o[d]&&c.future&&this.$(n[d]).addClass(c.future).removeClass(c.past),3==o[d]&&(c.future||c.past)&&this.$(n[d]).removeClass(c.past).removeClass(c.future),o[d]!=o[d+1]&&1==o[d]&&c.before?this.$(n[d]).addClass(c.before).removeClass(c.after):o[d]!=o[d-1]&&2==o[d]&&c.after?this.$(n[d]).addClass(c.after).removeClass(c.before):this.$(n[d]).removeClass(c.before).removeClass(c.after),c.grad&&(u[d]?this.$(n[d]).addClass(c.grad):this.$(n[d]).removeClass(c.grad))}}),this.on("resize upd",function(t){o.call(this,t&&t.fix)})};baron.fn.fix=function(t){for(var i=0;this[i];)r.call(this[i],t),i++;return this}}(window),function(){var t=function(t){var i,e,r,s,o=this;s=t.screen||.9,t.forward&&(i=this.$(t.forward,this.clipper),this.event(i,"click",function(){var i=o.pos()-t.delta||30;o.pos(i)})),t.backward&&(e=this.$(t.backward,this.clipper),this.event(e,"click",function(){var i=o.pos()+t.delta||30;o.pos(i)})),t.track&&(r=t.track===!0?this.track:this.$(t.track,this.clipper)[0],r&&this.event(r,"mousedown",function(t){var i=t["offset"+o.origin.x],e=o.bar[o.origin.offsetPos],r=0;e>i?r=-1:i>e+o.bar[o.origin.offset]&&(r=1);var n=o.pos()+r*s*o.scroller[o.origin.client];o.pos(n)}))};baron.fn.controls=function(i){for(var e=0;this[e];)t.call(this[e],i),e++;return this}}(window),function(){var t=function(t){function i(){return m.scroller[m.origin.scroll]+m.scroller[m.origin.offset]}function e(){return m.scroller[m.origin.scrollSize]}function r(){return m.scroller[m.origin.client]}function s(t,i){var e=5e-4*t;return Math.floor(i-e*(t+550))}function o(t){h=t,t?(n(),l=setInterval(n,200)):clearInterval(l)}function n(){var n,l,h={},z=i(),$=e(),T=1==b;if(l=0,b>0&&(l=40),n=s(y,l),z>=$-y&&b>-1?T&&(y+=n):y=0,0>y&&(y=0),h[u]=y+"px",r()<=e()){m.$(f).css(h);for(var x=0;g.length>x;x++)m.$(g[x].self).css(g[x].property,Math.min(100*(y/p),100)+"%")}v&&y&&m.$(m.root).addClass(v),0==y&&t.onCollapse&&t.onCollapse(),b=0,c=setTimeout(function(){b=-1},C),d&&y>p&&!a&&(d(),a=!0),0==y?w++:w=0,w>1&&(o(!1),a=!1,v&&m.$(m.root).removeClass(v))}var l,c,a,h,f=this.$(t.block),u=t.size||this.origin.size,p=t.limit||80,d=t.onExpand,g=t.elements||[],v=t.inProgress||"",m=this,b=0,w=0,y=0,C=t.waiting||500;this.on("init",function(){o(!0)}),this.on("dispose",function(){o(!1)}),this.event(this.scroller,"mousewheel DOMMouseScroll",function(t){var r=0>t.wheelDelta||t.originalEvent&&0>t.originalEvent.wheelDelta||t.detail>0;r&&(b=1,clearTimeout(c),!h&&i()>=e()&&o(!0))})};baron.fn.pull=function(i){for(var e=0;this[e];)t.call(this[e],i),e++;return this}}(window);