(function(n,u){var m=[],p=function(b,k){var c,e;k===u?(e=this,c=b||{}):(e=b,c=k);m.push(new w(e,c));return m[m.length-1]};p.u=function(){for(var b=0;b<m.length;b++)m[b].u()};var w=function(b,k){var c,e,l;p.init=function(b,f){function k(a){a?l(h).addClass(f.barOnCls||""):l(h).removeClass(f.barOnCls||"")}function n(){return!1}function p(a){c(document,"selectstart",n,a?"off":"on")}function t(){clearTimeout(w);w=setTimeout(function(){A();x();k(q.offsetHeight>d.clientHeight)},200)}var g,v,m,r,w,d,q,h,
B,y,s=[],z,C,a;this.root=b;var A=this.viewport=function(j){l(d).css("width",d.parentNode.clientWidth+d.offsetWidth-d.clientWidth+"px");g=e(f.header,q);v=d.clientHeight;j&&(m=[]);s=[];r=[];if(g)for(a=0;a<g.length;a++)r[a]=r[a-1]||0,g[a-1]&&(r[a]+=g[a-1].offsetHeight),v-=g[a].offsetHeight,j&&(m[a]=g[a].parentNode.offsetTop)},x=this.updateScrollBar=function(){var j,b,c;j=d.clientHeight*d.clientHeight/q.offsetHeight;d.clientHeight>=q.offsetHeight&&(j=0);void 0!==j&&(c=f.barMinHeight||20,0<j&&j<c&&(j=
c),l(h).css({height:j+"px"}));j=-(d.pageYOffset||d.scrollTop);c=B=-j/(q.offsetHeight-d.clientHeight)*(h.parentNode.clientHeight-h.offsetHeight);l(h).css("top",c+"px");if(g){var e;for(a=0;a<g.length;a++)if(m[a]+j<r[a]?(c=1,b=r[a]):m[a]+j>r[a]+v?(c=2,b=r[a]+v):(c=3,b=u),c!==s[a]){e=a;if(v<(f.viewMinH||0))b=u;b!==u?(b+="px",l(g[e]).css({top:b}).addClass(y)):l(g[e]).css({top:b}).removeClass(y);s[a]=c;e=!0}if(e)for(a=0;a<g.length;a++)s[a]!==s[a+1]&&1===s[a]&&f.hTopFixCls?l(g[a]).addClass(f.hTopFixCls).removeClass(f.hBottomFixCls+
""):s[a]!==s[a-1]&&2===s[a]&&f.hBottomFixCls?l(g[a]).addClass(f.hBottomFixCls).removeClass(f.hTopFixCls+""):l(g[a]).removeClass(f.hTopFixCls+"").removeClass(f.hBottomFixCls+"")}};d=f.scroller!==u?e(f.scroller,b)[0]:e("*",b)[0];q=f.container?e(f.container,d)[0]:e("*",d)[0];f.bar?h=e(f.bar,d)[0]:(h=e("*",d),h=h[h.length-1]);if(d&&q&&h)return b.setAttribute("data-baron","inited"),k(d.clientHeight<q.offsetHeight),A(1),y=f.hFixCls,c(d,"scroll",x,"on"),c(g,"mousewheel",function(b){try{a=document.createEvent("WheelEvent"),
a.initWebKitWheelEvent(b.originalEvent.wheelDeltaX,b.originalEvent.wheelDeltaY),d.dispatchEvent(a),b.preventDefault()}catch(c){}}),c(window,"resize",t),c(b,"heightChange",t),c(h,"mousedown",function(a){a.preventDefault();p();z=1}),c(document,"mouseup blur",function(){p(1);z=0}),c(document,"mousedown",function(a){C=a.clientY-B}),c(document,"mousemove",function(a){z&&(d.scrollTop=(a.clientY-C)/(h.parentNode.clientHeight-h.offsetHeight)*(q.offsetHeight-d.clientHeight))}),x(),this};p.init.prototype.update=
function(){this.viewport(1);this.updateScrollBar()};if(e=k.selector||n)if(c=k.event||function(b,c,e,k){n(b)[k||"on"](c,e)},k.event||n)if(l=k.dom||n){b[0]||(b=[b]);for(var t=0;t<b.length;t++)b[t].getAttribute("data-baron")?c(b[t],"heightChange",u,"trigger"):this[t]=new p.init(b[t],k);return this}};w.prototype.u=function(){for(var b=-1;this[++b];)this[b].update()};n&&n.fn&&(n.fn.baron=p);window.baron=p})(window.jQuery);