(function(n,u){var m=[],p=function(b,j){var c,f;j===u?(f=this,c=b||{}):(f=b,c=j);m.push(new w(f,c));return m[m.length-1]};p.u=function(){for(var b=0;b<m.length;b++)m[b].u()};var w=function(b,j){var c,f,l;p.init=function(b,e){function j(a){a?l(k).addClass(e.barOnCls||""):l(k).removeClass(e.barOnCls||"")}function n(){return!1}function p(a){c(document,"selectstart",n,a?"off":"on")}function t(){clearTimeout(w);w=setTimeout(function(){A();x();j(q.offsetHeight>d.clientHeight)},200)}var g,v,m,r,w,d,q,k,
B,y,s=[],z,C,a;this.root=b;var A=this.viewport=function(h){g=f(e.header,q);v=d.clientHeight;h&&(m=[]);s=[];r=[];if(g)for(a=0;a<g.length;a++)r[a]=r[a-1]||0,g[a-1]&&(r[a]+=g[a-1].offsetHeight),v-=g[a].offsetHeight,h&&(m[a]=g[a].parentNode.offsetTop)},x=this.updateScrollBar=function(){var h,b,c;h=d.clientHeight*d.clientHeight/q.offsetHeight;d.clientHeight>=q.offsetHeight&&(h=0);void 0!==h&&(c=e.barMinHeight||20,0<h&&h<c&&(h=c),l(k).css({height:h+"px"}));h=-(d.pageYOffset||d.scrollTop);c=B=-h/(q.offsetHeight-
d.clientHeight)*(d.clientHeight-k.offsetHeight-(e.barTop||0))+(e.barTop||0);l(k).css("top",c+"px");if(g){var f;for(a=0;a<g.length;a++)if(m[a]+h<r[a]?(c=1,b=r[a]):m[a]+h>r[a]+v?(c=2,b=r[a]+v):(c=3,b=u),c!==s[a]){f=a;if(v<(e.viewMinH||0))b=u;b!==u?(b+="px",l(g[f]).css({top:b}).addClass(y)):l(g[f]).css({top:b}).removeClass(y);s[a]=c;f=!0}if(f)for(a=0;a<g.length;a++)s[a]!==s[a+1]&&1===s[a]&&e.hTopFixCls?l(g[a]).addClass(e.hTopFixCls).removeClass(e.hBottomFixCls+""):s[a]!==s[a-1]&&2===s[a]&&e.hBottomFixCls?
l(g[a]).addClass(e.hBottomFixCls).removeClass(e.hTopFixCls+""):l(g[a]).removeClass(e.hTopFixCls+"").removeClass(e.hBottomFixCls+"")}};d=e.scroller!==u?f(e.scroller,b)[0]:f("*",b)[0];q=e.container?f(e.container,d)[0]:f("*",d)[0];e.bar?k=f(e.bar,d)[0]:(k=f("*",d),k=k[k.length-1]);if(d&&q&&k)return b.setAttribute("data-baron","inited"),j(d.clientHeight<q.offsetHeight),l(d).css("width",d.parentNode.clientWidth+d.offsetWidth-d.clientWidth+"px"),A(1),y=e.hFixCls,c(d,"scroll",x,"on"),c(g,"mousewheel",function(b){try{a=
document.createEvent("WheelEvent"),a.initWebKitWheelEvent(b.originalEvent.wheelDeltaX,b.originalEvent.wheelDeltaY),d.dispatchEvent(a),b.preventDefault()}catch(c){}}),c(window,"resize",t),c(b,"heightChange",t),c(k,"mousedown",function(a){a.preventDefault();p();z=1}),c(document,"mouseup blur",function(){p(1);z=0}),c(document,"mousedown",function(a){C=a.clientY-B}),c(document,"mousemove",function(a){z&&(d.scrollTop=(a.clientY-C-(e.barTop||0))/(d.clientHeight-k.offsetHeight-(e.barTop||0))*(q.offsetHeight-
d.clientHeight))}),x(),this};p.init.prototype.update=function(){this.viewport(1);this.updateScrollBar()};if(f=j.selector||n)if(c=j.event||function(b,c,f,j){n(b)[j||"on"](c,f)},j.event||n)if(l=j.dom||n){b[0]||(b=[b]);for(var t=0;t<b.length;t++)b[t].getAttribute("data-baron")?c(b[t],"heightChange",u,"trigger"):this[t]=new p.init(b[t],j);return this}};w.prototype.u=function(){for(var b=-1;this[++b];)this[b].update()};n&&n.fn&&(n.fn.baron=p);window.baron=p})(window.jQuery);